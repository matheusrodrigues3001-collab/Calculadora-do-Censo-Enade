<script>
const classificacoes = {
  "Administra√ß√£o": [
    { limite: 0.92, nota: 5 },
    { limite: 0.84, nota: 4 },
    { limite: 0.68, nota: 3 },
    { limite: 0.52, nota: 2 },
    { limite: 0.37, nota: 1 },
    { limite: 0.06, nota: 0 }
  ],
  "Administra√ß√£o P√∫blica": [
    { limite: 0.97, nota: 5 },
    { limite: 0.94, nota: 4 },
    { limite: 0.89, nota: 3 },
    { limite: 0.86, nota: 2 },
    { limite: 0.77, nota: 1 },
    { limite: 0.05, nota: 0 }
  ],
  "Medicina": [
    { limite: 1.00, nota: 5 },
    { limite: 0.84, nota: 4 },
    { limite: 0.70, nota: 3 },
    { limite: 0.56, nota: 2 },
    { limite: 0.44, nota: 1 },
    { limite: 0, nota: 0 }
  ],
  "Agronomia": [
    { limite: 1.00, nota: 5 },
    { limite: 0.95, nota: 4 },
    { limite: 0.9, nota: 3 },
    { limite: 0.82, nota: 2 },
    { limite: 0.78, nota: 1 }
  ],
  "Arquitetura e Urbanismo": [
    { limite: 1.00, nota: 5 },
    { limite: 0.85, nota: 4 },
    { limite: 0.7, nota: 3 },
    { limite: 0.63, nota: 2 },
    { limite: 0.49, nota: 1 },
    { limite: 0.48, nota: 0 }
  ]
};

function calcular() {
  const esp = Number(document.getElementById('especialista').value);
  const mes = Number(document.getElementById('mestre').value);
  const dou = Number(document.getElementById('doutor').value);
  const curso = document.getElementById('curso').value;

  if (!curso) {
    alert('Selecione um curso!');
    return;
  }

  const total = esp + mes + dou;

  if (total === 0) {
    alert('Digite pelo menos um valor.');
    return;
  }

  const percEsp = ((esp / total) * 100).toFixed(2);
  const percMes = ((mes / total) * 100).toFixed(2);
  const percDou = ((dou / total) * 100).toFixed(2);
  const somaMesDou = (Number(percMes) + Number(percDou)).toFixed(2);

  const classificacaoCurso = classificacoes[curso] || classificacoes["default"];
  const percDecimal = somaMesDou / 100;

  let nota = "Sem classifica√ß√£o";
  for (let i = 0; i < classificacaoCurso.length; i++) {
    if (percDecimal >= classificacaoCurso[i].limite) {
      nota = classificacaoCurso[i].nota;
      break;
    }
  }

  // üö¶ Define a cor conforme a nota
  let corSemaforo = "gray";
  if (nota == 5) corSemaforo = "#00c853";     // verde forte
  else if (nota == 4) corSemaforo = "#aeea00"; // verde-lim√£o
  else if (nota == 3) corSemaforo = "#ffeb3b"; // amarelo
  else if (nota == 2) corSemaforo = "#ff9800"; // laranja
  else if (nota == 1) corSemaforo = "#d50000"; // vermelho

  document.getElementById('resultado').innerHTML = `
    <h4>Resultados para o curso: ${curso}</h4>
    <p><strong>Total de docentes:</strong> ${total}</p>
    <p>Especialistas: ${esp} (${percEsp}%)</p>
    <p>Mestres: ${mes} (${percMes}%)</p>
    <p>Doutores: ${dou} (${percDou}%)</p>
    <hr>
    <p><strong>Soma de Mestres + Doutores:</strong> ${somaMesDou}%</p>
    <p><strong>Nota Stricto Sensu:</strong> ${nota}</p>
    <div class="semaforo" style="background:${corSemaforo};"></div>
  `;
}
</script>

</body>
</html>
